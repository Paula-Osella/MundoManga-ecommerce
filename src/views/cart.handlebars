<div class="cart-container">
  <h1>ðŸ›’ Detalles del Carrito</h1>

  {{#if cart}}
    <h2 class="cart-id">Carrito ID: {{cart._id}}</h2>

    <div class="cart" data-cart-id="{{cart._id}}">
      <div class="cart-items">
        {{#each cart.products}}
        <div class="cart-row" data-product-id="{{this.product._id}}">
          {{#if this.product.thumbnails.length}}
            <img class="cart-thumb" src="{{this.product.thumbnails.[0]}}" alt="{{this.product.title}}">
          {{else}}
            <img class="cart-thumb" src="/images/placeholder.png" alt="Sin imagen disponible">
          {{/if}}

          <div class="cart-info">
            <h4>{{this.product.title}}</h4>
            <p class="cart-price-unit" data-unit="{{this.product.price}}">Precio: ${{this.product.price}}</p>

            <div class="qty-controls" aria-label="Cantidad">
              <button class="btn-decrease" type="button" aria-label="Disminuir">âˆ’</button>
              <span class="qty" aria-live="polite">{{this.quantity}}</span>
              <button class="btn-increase" type="button" aria-label="Aumentar">+</button>
            </div>
          </div>

          <div class="cart-subtotal" data-subtotal>
            ${{this.total}}
          </div>

          <button class="cart-remove" type="button" aria-label="Eliminar">
            <i class="fas fa-trash"></i>
          </button>
        </div>
        {{/each}}
      </div>

      <div class="cart-total">
        <span class="cart-saving" hidden>
          <span class="cart-saving-dot"></span>
        </span>
        Total: <span id="cartTotalAmount">${{cartTotal}}</span>
      </div>

      <div class="btn-center">
        <button class="btn btn--primary" id="checkoutBtn">
          <i class="fas fa-credit-card"></i> Finalizar compra
        </button>
      </div>
    </div>
  {{else}}
    <p>No hay productos en este carrito.</p>
  {{/if}}
</div>

<!-- JS especÃ­fico del carrito -->
<script src="/js/cart.js" defer></script>
