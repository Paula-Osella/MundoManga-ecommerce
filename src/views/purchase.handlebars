<div style="max-width: 980px; margin: 24px auto; background: var(--card-background); border-radius: 14px; box-shadow: 0 8px 20px var(--shadow-color); overflow: hidden;">
  {{#if error}}
    <div style="padding: 24px;">
      <h2 style="margin:0 0 8px 0; color: var(--primary-color);">Hubo un problema</h2>
      <p style="margin:0 0 12px 0;">{{error}}</p>
      <a href="/products" class="add-to-cart">Volver a la tienda</a>
    </div>
  {{else}}
    <header style="background: var(--primary-color); color: #fff; padding: 20px;">
      <h2 style="margin: 0; font-family: var(--heading-font);">Â¡Gracias por tu compra! ðŸŽ‰</h2>
    </header>

    <section style="padding: 18px; display:grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap:12px;">
      <div style="background: var(--light-background); border:1px solid var(--border-color); border-radius:10px; padding:12px;">
        <div style="color: var(--text-subtle); font-size:.9rem;">CÃ³digo</div>
        <div style="font-weight:700;">{{ticket.code}}</div>
      </div>
      <div style="background: var(--light-background); border:1px solid var(--border-color); border-radius:10px; padding:12px;">
        <div style="color: var(--text-subtle); font-size:.9rem;">Fecha</div>
        <div style="font-weight:700;">{{ticket.date}}</div>
      </div>
      <div style="background: var(--light-background); border:1px solid var(--border-color); border-radius:10px; padding:12px;">
        <div style="color: var(--text-subtle); font-size:.9rem;">Comprador</div>
        <div style="font-weight:700;">{{ticket.purchaser}}</div>
      </div>
      <div style="background: var(--light-background); border:1px solid var(--border-color); border-radius:10px; padding:12px;">
        <div style="color: var(--text-subtle); font-size:.9rem;">Total Pagado</div>
        <div style="font-weight:800; font-size:1.1rem;">{{ticket.amount}}</div>
      </div>
    </section>

    {{#if ticket.items.length}}
    <section style="padding: 0 18px 18px 18px;">
      <h3 style="margin: 10px 0; font-family: var(--heading-font); color: var(--text-dark);">Productos</h3>
      <div style="overflow-x:auto;">
        <table style="width:100%; border-collapse: collapse; border:1px solid var(--border-color);">
          <thead>
            <tr style="background: var(--light-background);">
              <th style="text-align:left; padding:10px; border-bottom:1px solid var(--border-color);">Producto</th>
              <th style="text-align:right; padding:10px; border-bottom:1px solid var(--border-color);">Precio</th>
              <th style="text-align:center; padding:10px; border-bottom:1px solid var(--border-color);">Cantidad</th>
              <th style="text-align:right; padding:10px; border-bottom:1px solid var(--border-color);">Subtotal</th>
            </tr>
          </thead>
          <tbody>
            {{#each ticket.items}}
            <tr>
              <td style="padding:10px; border-bottom:1px solid var(--border-color);">{{this.title}}</td>
              <td style="padding:10px; text-align:right; border-bottom:1px solid var(--border-color);">{{this.price}}</td>
              <td style="padding:10px; text-align:center; border-bottom:1px solid var(--border-color);">{{this.quantity}}</td>
              <td style="padding:10px; text-align:right; border-bottom:1px solid var(--border-color);">{{this.subtotal}}</td>
            </tr>
            {{/each}}
          </tbody>
        </table>
      </div>
    </section>
    {{/if}}

<div class="btn-center">
  <a href="/products" class="btn btn--primary">
    <i class="fas fa-arrow-left"></i> Seguir comprando
  </a>
</div>

  {{/if}}
</div>